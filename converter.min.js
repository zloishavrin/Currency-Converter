function converter(t){let e=document.querySelector(".converterInput"),r=document.querySelector(".converterOutput"),c=document.querySelector(".activeInputSwitcherItem > p"),u=document.querySelector(".activeOutputSwitcherItem > p"),n=c.textContent,o=u.textContent;n=n.trim(),o=o.trim();let l,i,a=document.querySelector(".converterInputBoxRate > p"),p=document.querySelector(".converterOutputBoxRate > p"),d=document.querySelector(".converterDate"),s=e.value,m=r.value;fetch("https://www.cbr-xml-daily.ru/daily_json.js").then((t=>t.json()),(t=>alert("Ошибка Подключения"))).then((c=>{"RUR"==n&&"RUR"==o?(l=1,i=1):"RUR"==n?(l=c.Valute[o].Value,i=1/l):"RUR"==o?(i=c.Valute[n].Value,l=1/i):(l=c.Valute[n].Value/c.Valute[o].Value,i=c.Valute[o].Value/c.Valute[n].Value),a.textContent="1 "+n+" = "+i+" "+o,p.textContent="1 "+o+" = "+l+" "+n;let u=c.Date;u=u.replace("T"," "),u=u.replace("+"," GMT+"),d.textContent=u,"fromInput"==t?(m=s*i,r.value=m.toString(),console.log("fet")):"fromOutput"==t&&(m*=l,e.value=m.toString())}))}function switchInputValutes(){document.querySelector(".activeInputSwitcherItem").classList.remove("activeInputSwitcherItem"),this.classList.add("activeInputSwitcherItem"),converter("fromOutput")}function switchOutputValutes(){document.querySelector(".activeOutputSwitcherItem").classList.remove("activeOutputSwitcherItem"),this.classList.add("activeOutputSwitcherItem"),converter("fromInput")}function switchInput(){let t=document.querySelectorAll(".converterSwitcherWindow"),e=document.querySelectorAll(".converterSwitcherInputItem")[3],r=this.querySelector("b"),c=e.querySelector("p");document.querySelector(".activeInputSwitcherItem").classList.remove("activeInputSwitcherItem"),c.textContent=r.textContent,e.classList.add("activeInputSwitcherItem"),converter("fromOutput");for(let e=0;e<2;e++)t[e].style.display="none"}function switchOutput(){let t=document.querySelectorAll(".converterSwitcherWindow"),e=document.querySelectorAll(".converterSwitcherOutputItem")[3],r=this.querySelector("b"),c=e.querySelector("p");document.querySelector(".activeOutputSwitcherItem").classList.remove("activeOutputSwitcherItem"),c.textContent=r.textContent,e.classList.add("activeOutputSwitcherItem"),converter("fromInput");for(let e=0;e<2;e++)t[e].style.display="none"}let converterInputField=document.querySelector(".converterInput"),converterOutputField=document.querySelector(".converterOutput"),switcherInput=document.querySelectorAll(".converterSwitcherInputItem"),switcherOutput=document.querySelectorAll(".converterSwitcherOutputItem");converterInputField.addEventListener("change",(()=>{converter("fromInput")})),converterOutputField.addEventListener("change",(()=>{converter("fromOutput")})),switcherInput.forEach((t=>{t.onclick=switchInputValutes})),switcherOutput.forEach((t=>{t.onclick=switchOutputValutes}));let switcherWindowModal=document.querySelectorAll(".converterSwitcherWindow"),converterSwitcherArrowInput=document.querySelector(".converterSwitcherInputArrow"),converterSwitcherArrowOutput=document.querySelector(".converterSwitcherOutputArrow");converterSwitcherArrowInput.addEventListener("click",(()=>{switcherWindowModal[0].style.display="flex",document.querySelectorAll(".switcherWindowItemInput").forEach((t=>{t.onclick=switchInput}))})),converterSwitcherArrowOutput.addEventListener("click",(()=>{switcherWindowModal[1].style.display="flex",document.querySelectorAll(".switcherWindowItemOutput").forEach((t=>{t.onclick=switchOutput}))}));let convertSideChangeIcon=document.querySelector(".converterSideChangeContain");convertSideChangeIcon.addEventListener("click",(()=>{let t=document.querySelector(".activeInputSwitcherItem > p"),e=document.querySelector(".activeOutputSwitcherItem > p"),r=t.textContent;t.textContent=e.textContent,e.textContent=r,converter("fromInput")}));